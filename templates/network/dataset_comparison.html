{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2>{{dataset_x.name}}</h2>
    <p><b>Assembly:</b> {{dataset_x.assembly.name}}</p>
    <p><b>Cell/tissue type:</b> {{dataset_x.experiment.cell_type}}</p>
    {% if dataset_x.target %}
        <p><b>Target: </b> {{dataset_x.target}}</p>
    {% endif %}

    <h2>{{dataset_y.name}}</h2>
    <p><b>Assembly:</b> {{dataset_y.assembly.name}}</p>
    <p><b>Cell/tissue type:</b> {{dataset_y.experiment.cell_type}}</p>
    {% if dataset_y.target %}
        <p><b>Target: </b> {{dataset_y.target}}</p>
    {% endif %}

    {% if dataset_x.experiment.experiment_type == dataset_y.experiment.experiment_type and dataset_x.assembly == dataset_y.assembly %}
        <div id='gene_scatter'>
            <h3>Gene scatter</h3>
        </div>
        <div id='gene_fold_change'>
            <h3>Gene fold change</h3>
        </div>
    {% else %}
        <p>Datasets do not share assembly and experiment type.<p>
    {% endif %}
</div>
{% endblock content %}

{% block extra-js %}
<script type='text/javascript'>
$(document).ready(function(){
    window.apps.appendGeneScatter(
        $("#gene_scatter")[0],
        {{scatter|safe}},
    );
    window.apps.appendGeneFoldChange(
        $("#gene_fold_change")[0],
        {{log_change|safe}},
    );
});
</script>
{% endblock %}
