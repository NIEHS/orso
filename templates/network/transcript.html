{% extends 'base.html' %}

{% block content %}

<div class="container">
    <h1>{{transcript.name}} (<a href='/network/gene/{{transcript.gene.pk}}'>{{transcript.gene.name}}</a>; {{transcript.gene.annotation.name}})</h1>
    <h2>Related isoforms</h2>
    <table class='table'>
        <tr>
            <th>Name</th>
            <th>Chromosome</th>
            <th>Strand</th>
            <th>Start</th>
            <th>End</th>
            <th>Median expression (TPM)</th>
        </tr>
        <tr>
            <th>{{transcript.name}}</th>
            <th>{{transcript.chromosome}}</th>
            <th>{{transcript.strand}}</th>
            <th>{{transcript.start}}</th>
            <th>{{transcript.end}}</th>
            <th>{{median_expression}}</th>
        </tr>
        {% for t in other_transcripts %}
        <tr>
            <td><a href='/network/transcript/{{t.pk}}'>{{t.name}}</a></td>
            <td>{{t.chromosome}}</td>
            <td>{{t.strand}}</td>
            <td>{{t.start}}</td>
            <td>{{t.end}}</td>
            <td>{{t.median_expression}}</td>
        </tr>
        {% endfor %}
    </table>
    {% if expression %}
    <h2>RNA-seq expression</h2>
    <div id='expression'></div>
    {% endif %}
</div>

{% endblock content %}

{% block extra-js %}
<script type='text/javascript'>
$(document).ready(function(){
    window.apps.appendExpression(
        $("#expression")[0],
        {{expression|safe}},
    );
});
</script>
{% endblock %}
